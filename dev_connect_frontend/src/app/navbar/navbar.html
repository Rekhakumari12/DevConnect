<nav class="navbar">
  <div class="navbar-left">
    <a routerLink="/" class="navbar-brand"> <span class="icon-code"></span> DevConnect </a>
  </div>

  <ng-container *ngIf="isAuthenticated; else guestLinks">
    <div class="navbar-center">
      <div class="search-bar">
        <input
          type="text"
          placeholder="Search project ideas, users, tech..."
          class="search-input"
        />
        <span class="search-icon">üîç</span>
      </div>
    </div>

    <div class="navbar-right">
      <ul class="navbar-nav">
        <li><a routerLink="/home" class="nav-link">Home</a></li>
        <li><a routerLink="/browse-ideas" class="nav-link">Browse Ideas</a></li>
        <li class="nav-item dropdown" (click)="toggleDropdown()">
          <span class="nav-link dropdown-toggle">{{
            username ? username[0].toUpperCase() : 'A'
          }}</span>
          <div class="dropdown-menu" [class.show]="isDropdownOpen">
            <a routerLink="/profile" class="dropdown-item" (click)="navigateTo('/profile')"
              >Profile</a
            >
            <a routerLink="/settings" class="dropdown-item" (click)="navigateTo('/settings')"
              >Settings</a
            >
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" (click)="onLogout()">Logout</a>
          </div>
        </li>
      </ul>
    </div>
  </ng-container>

  <ng-template #guestLinks>
    <div class="navbar-right">
      <a routerLink="/login" class="nav-link">Login</a>
      <a routerLink="/register" class="nav-link nav-link-register">Register</a>
    </div>
  </ng-template>
</nav>
